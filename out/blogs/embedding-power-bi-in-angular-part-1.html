<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no, user-scalable=no, viewport-fit=cover"/><title>Embedding Power BI in Angular — Part 1</title><meta name="title" content="Embedding Power BI in Angular — Part 1"/><meta name="description" content="Power BI is a powerful tool which helps us to create quick and interactive insights from wide range of data sources. Here we’ll be discussing about Power BI service which is a SaaS, and how to embed Power BI Dashboards, Reports and Tiles in web applications."/><meta name="og:type" content="article"/><meta name="og:url" content="/blog/embedding-power-bi-in-angular-part-1"/><meta name="og:title" content="Embedding Power BI in Angular — Part 1"/><meta name="og:description" content="Power BI is a powerful tool which helps us to create quick and interactive insights from wide range of data sources. Here we’ll be discussing about Power BI service which is a SaaS, and how to embed Power BI Dashboards, Reports and Tiles in web applications."/><meta name="og:image" content="banners/01.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:url" content="/blog/embedding-power-bi-in-angular-part-1"/><meta name="twitter:title" content="Embedding Power BI in Angular — Part 1"/><meta name="twitter:description" content="Power BI is a powerful tool which helps us to create quick and interactive insights from wide range of data sources. Here we’ll be discussing about Power BI service which is a SaaS, and how to embed Power BI Dashboards, Reports and Tiles in web applications."/><meta name="twitter:image" content="banners/01.png"/><meta name="twitter:site" content="@krishnaanaril"/><meta name="twitter:creator" content="@krishnaanaril"/><meta name="keywords" content="powerbi, angular, dotnet"/><meta name="og:article:published_time" content="2018-10-15T00:00:00.000Z"/><meta name="og:article:modified_time" content="2018-10-15T00:00:00.000Z"/><meta name="og:article:author" content="Krishna Mohan A M"/><meta name="og:article:section" content="tech"/><meta name="og:article:tag" content="powerbi, angular, dotnet"/><meta name="next-head-count" content="23"/><link href="https://unpkg.com/prism-themes@1.6.0/themes/prism-shades-of-purple.css" rel="stylesheet"/><link rel="preload" href="/_next/static/css/4a2588553a45f461.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4a2588553a45f461.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-2b80368ae5a19708.js" defer=""></script><script src="/_next/static/chunks/pages/_app-964bc742f6b6115c.js" defer=""></script><script src="/_next/static/chunks/pages/blogs/%5Bid%5D-ee2f0cd279d3564a.js" defer=""></script><script src="/_next/static/zh1h0rQ6CgnCoZ5HIrB9Z/_buildManifest.js" defer=""></script><script src="/_next/static/zh1h0rQ6CgnCoZ5HIrB9Z/_ssgManifest.js" defer=""></script></head><body class="bg-gray-200 text-gray-800 dark:bg-gray-800 dark:text-gray-50 px-5 lg:px-0"><div id="__next"><div><nav class="sticky top-0 text-gray-800 dark:text-gray-50 backdrop-blur-lg mix-blend-multiply dark:mix-blend-color-dodge"><section class="hidden lg:flex flex-row justify-center"><nav><ul class="lg:text-xl lg:flex lg:flex-row"><li class="p-3 cursor-pointer"><a href="/">Home</a></li><li class="p-3 cursor-pointer border-b-2 border-gray-700 dark:border-gray-300"><a href="/blogs">Blog</a></li><li class="p-3 cursor-pointer"><a href="/projects">Projects</a></li><li class="p-3 cursor-pointer"><a href="/about">About</a></li></ul></nav></section><div class="absolute lg:hidden mr-4 p-4 right-0"><button class="p-2" aria-label="view menu items"><svg class="fill-gray-800 dark:fill-gray-50" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="24px" height="24px"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></button></div></nav><div class="min-h-screen"><article class="bg-gray-200 text-gray-800 dark:bg-gray-800 dark:text-gray-50"><div><div aria-label="Blog tags/keywords" class="pt-8 flex flex-row justify-center"><div class="bg-gray-300 dark:bg-gray-700 border border-gray-400 ml-2 mr-2 pb-2 pl-4 pr-4 pt-2 text-sm align-baseline rounded-full">powerbi</div><div class="bg-gray-300 dark:bg-gray-700 border border-gray-400 ml-2 mr-2 pb-2 pl-4 pr-4 pt-2 text-sm align-baseline rounded-full">angular</div><div class="bg-gray-300 dark:bg-gray-700 border border-gray-400 ml-2 mr-2 pb-2 pl-4 pr-4 pt-2 text-sm align-baseline rounded-full">dotnet</div></div><div class="max-w-screen-lg mx-auto"><h1 class="text-5xl pt-5 pb-5 text-center">Embedding Power BI in Angular — Part 1</h1></div><div class="flex flex-row justify-center m-5 max-w-screen-sm mx-auto"><time class="text-center text-xl">15 October 2018</time></div></div><div class="prose dark:prose-invert lg:prose-xl md:prose-lg max-w-screen-md mx-auto"><p>Power BI is a powerful tool which helps us to create quick and interactive insights from wide range of data sources. Here we’ll be discussing about <strong>Power BI service</strong> which is a <strong>SaaS</strong>, and how to embed Power BI Dashboards, Reports and Tiles in web applications. If you are new to Power BI, you can start <a href="https://docs.microsoft.com/en-us/power-bi/power-bi-overview">here</a>.</p>
<p>Power BI can be embedded in an application by two ways:</p>
<ol>
<li>
<p><strong>Embedding for customers</strong> — This is for embedding dashboards and reports to user who don’t have Power BI account. Power BI API’s are invoked based on the application’s master account and the reports/dashboards are made available to the users of the application.</p>
</li>
<li>
<p><strong>Embedding for your organization</strong> — This is for embedding dashboards/reports for the users in your organization, who have Power BI accounts.</p>
</li>
</ol>
<blockquote>
<p><strong>Update on 30th January 2019:</strong> There is a new option that enables business users who do not have any coding skills to easily and securely embed reports in internal web portals. Users viewing the embedded report need either a Power BI Pro license or the content needs to be in a workspace that’s in a <a href="https://docs.microsoft.com/en-us/power-bi/service-admin-premium-purchase">Power BI Premium capacity (EM or P SKU)</a>. More information is available <a href="https://powerbi.microsoft.com/en-us/blog/easily-embed-secure-power-bi-reports-in-your-internal-portals-or-websites">here</a>.</p>
</blockquote>
<p>Microsoft provides sample .net applications for both ways. The source code is available <a href="https://github.com/Microsoft/PowerBI-Developer-Samples">here</a>, well and good. But how to embed reports/dashboards in popular JavaScript frameworks?</p>
<p>There weren’t much tutorials available on-line, and I was bit confused with the distinction between the above two approaches. But I was not alone in this pursuit, <a href="https://medium.com/@ramandeep.singh.1983/power-bi-overview-and-angular-embedding-how-to-f73390f4a399">someone</a> have already figured out the “Embedding for customers” and it was really helpful. I wasn’t satisfied with that and after spending a couple of days in Power BI forums and GitHub repositories, I’ve finally figured out how to do it both.</p>
<p>This is the first part of the two-part article series. You can find the second one <a href="https://krishnamohan.dev/blog/embedding-powerbi-in-angular-part-2">here</a>.</p>
<h2>Embedding for Customers</h2>
<p>Creating dashboards/reports using Power BI are out of scope of this article, you can learn more about it <a href="https://docs.microsoft.com/en-us/power-bi/service-get-started">here</a>. I’ve skipped a lot a details which have better documentation elsewhere.</p>
<h3>Contents</h3>
<ul>
<li>Prerequisite</li>
<li>Overview</li>
<li>Set up your embedded analytics development environment</li>
<li>Set up your Power BI environment</li>
<li>Create a Web API</li>
<li>Create Angular client</li>
<li>Conclusion</li>
</ul>
<h3>Prerequisites</h3>
<ul>
<li><a href="https://powerbi.microsoft.com/en-us/pricing/">Power BI pro account</a></li>
<li><a href="https://azure.microsoft.com/en-us/free/">Microsoft Azure Subscription</a></li>
<li><a href="https://docs.microsoft.com/en-us/power-bi/developer/create-an-azure-active-directory-tenant">Azure Active Directory Tenant</a> Setup. If it is already done for your organization, you can find it <a href="https://www.whatismytenantid.com/">here</a>.</li>
<li>Visual Studio (2013 or later)</li>
<li>Visual Studio Code</li>
<li>npm, node, angular-cli</li>
</ul>
<h3>Overview</h3>
<p>A high level diagram showing how this works is shown below.</p>
<p><img src="assets/images/01_01.png" alt="Embedding for customers">
<em>Embedding for customers</em></p>
<p>The work flow is as follows.</p>
<ol>
<li>When user browse UI, it invokes API for embed token.</li>
<li>API authenticates application using master account credentials and request for tokens.</li>
<li>Azure AD returns token on successful validation, else reject the request.</li>
<li>Embed token is returned to UI from API.</li>
<li>UI calls Power BI API to get the report specific data with the token.</li>
<li>Power BI API returns report data, and UI displays it in the web page.</li>
<li>(Optional) User authorization via custom roles stored in the SQL server (or by any other means).</li>
</ol>
<h3>Set up your embedded analytics development environment</h3>
<p>Refer <a href="https://docs.microsoft.com/en-us/power-bi/developer/embed-sample-for-customers#set-up-your-embedded-analytics-development-environment">this</a> for more details.</p>
<blockquote>
<p>Since we are using Web API, redirect URL don’t have much significance.</p>
</blockquote>
<h3>Set up your Power BI environment</h3>
<p>Refer <a href="https://docs.microsoft.com/en-us/power-bi/developer/embed-sample-for-customers#set-up-your-power-bi-environment">this</a> for more details.</p>
<h3>Create a Web API</h3>
<p>If you are new to Web API’s, you can start <a href="https://docs.microsoft.com/en-us/aspnet/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api">here</a>. In the Web.config file we need to add few key-value pairs. Here you need to provide your master account’s username and password.</p>
<p><img src="assets/images/01_02.png" alt=""><em>Gist: https://gist.github.com/krishnaanaril/fdec1fe979dd353cd04bb86474e387e3</em></p>
<p>You’ll get ‘applicationId’, ‘workspaceId’ and ‘reportId’ during Power BI setup. Now we need to define the token objects to be returned from the methods.</p>
<p><img src="assets/images/01_03.png" alt=""><em>Token object for Dashboard/Reports. Gist: https://gist.github.com/krishnaanaril/5e56889f072a2606c1da0646766501dc</em></p>
<p><img src="assets/images/01_04.png" alt=""><em>Token object for Tiles. Gist: https://gist.github.com/krishnaanaril/8d4960b06aeefa218886c959308974f6</em></p>
<p>We need to add Microsoft Power BI client <a href="https://www.nuget.org/packages/Microsoft.PowerBI.Api/">library</a> as we are invoking Power BI API’s from the server side code.</p>
<p>As API methods, I’ve created three methods for Reports, Dashboards and Tiles respectively.</p>
<ol>
<li>
<p><strong>GetReportEmbedToken</strong>— This method accepts two optional parameters, username and roles, which is used for enabling row-level security (RLS). You can find more info about RLS <a href="https://docs.microsoft.com/en-us/power-bi/service-admin-rls">here</a>. In the method, we are returning the embed token for the first report available in the workspace.</p>
</li>
<li>
<p><strong>GetDashboardEmbedToken</strong>— This method returns the embed token for the first dashboard in the workspace.</p>
</li>
<li>
<p><strong>GetTileEmbedToken</strong>— This method returns the embed token for the first tile in the first dashboard which is available in the workspace.</p>
</li>
</ol>
<p><img src="assets/images/01_05.png" alt=""><em>API method for getting embed token. Gist: https://gist.github.com/krishnaanaril/b093ab817d8fc29e4096346e034ccf3f</em></p>
<p>You can extend this methods to return tokens for custom reports, dashboards and tiles.</p>
<h3>Create Angular client</h3>
<p>Here we need to create a service to call the API we created above. For that, let’s create a service and add the following method.</p>
<p><img src="assets/images/01_06.png" alt=""><em>Gist: https://gist.github.com/krishnaanaril/2387fa2a7fb2746cf1b0d93c149f03a9</em></p>
<p>In the HTML page, create a ‘div’ with id ‘embedReport’. We’ll be showing report in this div. Embedding in div is done using Power BI JavaScript <a href="https://github.com/Microsoft/PowerBI-JavaScript">library</a>. You can add it to your angular application by running the following command.</p>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> powerbi-client
</code></pre></div>
<p>Next, we need to create a method in component class to embed the reports as follows.</p>
<p><img src="assets/images/01_07.png" alt=""><em>Gist: https://gist.github.com/krishnaanaril/412001afccf2f74d1c840e1f7fb4b7fe</em></p>
<p>For embedding reports for customers, type should be ‘reports’ and token type should be ‘Embed’. Here you can see the code for ‘tokenExpirationListener’. This is added as the generated tokens are valid only for an hour and it expires after that. So we need to generate another token by that time and update it. More info can be found <a href="https://github.com/Microsoft/PowerBI-JavaScript/wiki/Refresh-token-using-JavaScript-SDK-example">here</a>.</p>
<h3>Conclusion</h3>
<p>Now you’re done with your Angular app and its corresponding Web API, run it and verify the reports.</p>
</div></article></div><footer class="flex flex-col bg-gray-200 text-gray-800 dark:bg-gray-800 dark:text-gray-50"><div class="mt-10"><ul class="flex flex-row justify-between max-w-sm mx-auto pl-4 pr-4"><li class="hover:text-gray-600 dark:hover:text-gray-100"><a href="https://twitter.com/KrishnaAnaril">Twitter</a></li><li><a href="https://krishnamohan.dev/sitemap.xml">Sitemap</a></li><li><a href="https://krishnamohan.dev/feed.xml">RSS</a></li><li><a href="mailto:krishnamohan.a.m@gmail.com">Contact</a></li></ul></div><div class="mx-auto p-5 text-sm"><p>© 2021-present <a class="font-bold" href="https://krishnamohan.dev/">Krishna Mohan A M</a>. All Rights Reserved.</p></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"embedding-power-bi-in-angular-part-1","meta":{"title":"Embedding Power BI in Angular — Part 1","description":"Power BI is a powerful tool which helps us to create quick and interactive insights from wide range of data sources. Here we’ll be discussing about Power BI service which is a SaaS, and how to embed Power BI Dashboards, Reports and Tiles in web applications.","published":true,"publishedAt":"2018-10-15T00:00:00.000Z","updatedAt":"2018-10-15T00:00:00.000Z","category":"tech","image":"banners/01","keywords":["powerbi","angular","dotnet"],"authors":["Krishna Mohan A M"]},"content":"\u003cp\u003ePower BI is a powerful tool which helps us to create quick and interactive insights from wide range of data sources. Here we’ll be discussing about \u003cstrong\u003ePower BI service\u003c/strong\u003e which is a \u003cstrong\u003eSaaS\u003c/strong\u003e, and how to embed Power BI Dashboards, Reports and Tiles in web applications. If you are new to Power BI, you can start \u003ca href=\"https://docs.microsoft.com/en-us/power-bi/power-bi-overview\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003ePower BI can be embedded in an application by two ways:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eEmbedding for customers\u003c/strong\u003e — This is for embedding dashboards and reports to user who don’t have Power BI account. Power BI API’s are invoked based on the application’s master account and the reports/dashboards are made available to the users of the application.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eEmbedding for your organization\u003c/strong\u003e — This is for embedding dashboards/reports for the users in your organization, who have Power BI accounts.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eUpdate on 30th January 2019:\u003c/strong\u003e There is a new option that enables business users who do not have any coding skills to easily and securely embed reports in internal web portals. Users viewing the embedded report need either a Power BI Pro license or the content needs to be in a workspace that’s in a \u003ca href=\"https://docs.microsoft.com/en-us/power-bi/service-admin-premium-purchase\"\u003ePower BI Premium capacity (EM or P SKU)\u003c/a\u003e. More information is available \u003ca href=\"https://powerbi.microsoft.com/en-us/blog/easily-embed-secure-power-bi-reports-in-your-internal-portals-or-websites\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eMicrosoft provides sample .net applications for both ways. The source code is available \u003ca href=\"https://github.com/Microsoft/PowerBI-Developer-Samples\"\u003ehere\u003c/a\u003e, well and good. But how to embed reports/dashboards in popular JavaScript frameworks?\u003c/p\u003e\n\u003cp\u003eThere weren’t much tutorials available on-line, and I was bit confused with the distinction between the above two approaches. But I was not alone in this pursuit, \u003ca href=\"https://medium.com/@ramandeep.singh.1983/power-bi-overview-and-angular-embedding-how-to-f73390f4a399\"\u003esomeone\u003c/a\u003e have already figured out the “Embedding for customers” and it was really helpful. I wasn’t satisfied with that and after spending a couple of days in Power BI forums and GitHub repositories, I’ve finally figured out how to do it both.\u003c/p\u003e\n\u003cp\u003eThis is the first part of the two-part article series. You can find the second one \u003ca href=\"https://krishnamohan.dev/blog/embedding-powerbi-in-angular-part-2\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003ch2\u003eEmbedding for Customers\u003c/h2\u003e\n\u003cp\u003eCreating dashboards/reports using Power BI are out of scope of this article, you can learn more about it \u003ca href=\"https://docs.microsoft.com/en-us/power-bi/service-get-started\"\u003ehere\u003c/a\u003e. I’ve skipped a lot a details which have better documentation elsewhere.\u003c/p\u003e\n\u003ch3\u003eContents\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ePrerequisite\u003c/li\u003e\n\u003cli\u003eOverview\u003c/li\u003e\n\u003cli\u003eSet up your embedded analytics development environment\u003c/li\u003e\n\u003cli\u003eSet up your Power BI environment\u003c/li\u003e\n\u003cli\u003eCreate a Web API\u003c/li\u003e\n\u003cli\u003eCreate Angular client\u003c/li\u003e\n\u003cli\u003eConclusion\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003ePrerequisites\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://powerbi.microsoft.com/en-us/pricing/\"\u003ePower BI pro account\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://azure.microsoft.com/en-us/free/\"\u003eMicrosoft Azure Subscription\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.microsoft.com/en-us/power-bi/developer/create-an-azure-active-directory-tenant\"\u003eAzure Active Directory Tenant\u003c/a\u003e Setup. If it is already done for your organization, you can find it \u003ca href=\"https://www.whatismytenantid.com/\"\u003ehere\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eVisual Studio (2013 or later)\u003c/li\u003e\n\u003cli\u003eVisual Studio Code\u003c/li\u003e\n\u003cli\u003enpm, node, angular-cli\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eOverview\u003c/h3\u003e\n\u003cp\u003eA high level diagram showing how this works is shown below.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"assets/images/01_01.png\" alt=\"Embedding for customers\"\u003e\r\n\u003cem\u003eEmbedding for customers\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eThe work flow is as follows.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eWhen user browse UI, it invokes API for embed token.\u003c/li\u003e\n\u003cli\u003eAPI authenticates application using master account credentials and request for tokens.\u003c/li\u003e\n\u003cli\u003eAzure AD returns token on successful validation, else reject the request.\u003c/li\u003e\n\u003cli\u003eEmbed token is returned to UI from API.\u003c/li\u003e\n\u003cli\u003eUI calls Power BI API to get the report specific data with the token.\u003c/li\u003e\n\u003cli\u003ePower BI API returns report data, and UI displays it in the web page.\u003c/li\u003e\n\u003cli\u003e(Optional) User authorization via custom roles stored in the SQL server (or by any other means).\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003eSet up your embedded analytics development environment\u003c/h3\u003e\n\u003cp\u003eRefer \u003ca href=\"https://docs.microsoft.com/en-us/power-bi/developer/embed-sample-for-customers#set-up-your-embedded-analytics-development-environment\"\u003ethis\u003c/a\u003e for more details.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSince we are using Web API, redirect URL don’t have much significance.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch3\u003eSet up your Power BI environment\u003c/h3\u003e\n\u003cp\u003eRefer \u003ca href=\"https://docs.microsoft.com/en-us/power-bi/developer/embed-sample-for-customers#set-up-your-power-bi-environment\"\u003ethis\u003c/a\u003e for more details.\u003c/p\u003e\n\u003ch3\u003eCreate a Web API\u003c/h3\u003e\n\u003cp\u003eIf you are new to Web API’s, you can start \u003ca href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api\"\u003ehere\u003c/a\u003e. In the Web.config file we need to add few key-value pairs. Here you need to provide your master account’s username and password.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"assets/images/01_02.png\" alt=\"\"\u003e\u003cem\u003eGist: https://gist.github.com/krishnaanaril/fdec1fe979dd353cd04bb86474e387e3\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eYou’ll get ‘applicationId’, ‘workspaceId’ and ‘reportId’ during Power BI setup. Now we need to define the token objects to be returned from the methods.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"assets/images/01_03.png\" alt=\"\"\u003e\u003cem\u003eToken object for Dashboard/Reports. Gist: https://gist.github.com/krishnaanaril/5e56889f072a2606c1da0646766501dc\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"assets/images/01_04.png\" alt=\"\"\u003e\u003cem\u003eToken object for Tiles. Gist: https://gist.github.com/krishnaanaril/8d4960b06aeefa218886c959308974f6\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eWe need to add Microsoft Power BI client \u003ca href=\"https://www.nuget.org/packages/Microsoft.PowerBI.Api/\"\u003elibrary\u003c/a\u003e as we are invoking Power BI API’s from the server side code.\u003c/p\u003e\n\u003cp\u003eAs API methods, I’ve created three methods for Reports, Dashboards and Tiles respectively.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eGetReportEmbedToken\u003c/strong\u003e— This method accepts two optional parameters, username and roles, which is used for enabling row-level security (RLS). You can find more info about RLS \u003ca href=\"https://docs.microsoft.com/en-us/power-bi/service-admin-rls\"\u003ehere\u003c/a\u003e. In the method, we are returning the embed token for the first report available in the workspace.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eGetDashboardEmbedToken\u003c/strong\u003e— This method returns the embed token for the first dashboard in the workspace.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eGetTileEmbedToken\u003c/strong\u003e— This method returns the embed token for the first tile in the first dashboard which is available in the workspace.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"assets/images/01_05.png\" alt=\"\"\u003e\u003cem\u003eAPI method for getting embed token. Gist: https://gist.github.com/krishnaanaril/b093ab817d8fc29e4096346e034ccf3f\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eYou can extend this methods to return tokens for custom reports, dashboards and tiles.\u003c/p\u003e\n\u003ch3\u003eCreate Angular client\u003c/h3\u003e\n\u003cp\u003eHere we need to create a service to call the API we created above. For that, let’s create a service and add the following method.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"assets/images/01_06.png\" alt=\"\"\u003e\u003cem\u003eGist: https://gist.github.com/krishnaanaril/2387fa2a7fb2746cf1b0d93c149f03a9\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eIn the HTML page, create a ‘div’ with id ‘embedReport’. We’ll be showing report in this div. Embedding in div is done using Power BI JavaScript \u003ca href=\"https://github.com/Microsoft/PowerBI-JavaScript\"\u003elibrary\u003c/a\u003e. You can add it to your angular application by running the following command.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token function\"\u003enpm\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e \u003cspan class=\"token parameter variable\"\u003e--save\u003c/span\u003e powerbi-client\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNext, we need to create a method in component class to embed the reports as follows.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"assets/images/01_07.png\" alt=\"\"\u003e\u003cem\u003eGist: https://gist.github.com/krishnaanaril/412001afccf2f74d1c840e1f7fb4b7fe\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eFor embedding reports for customers, type should be ‘reports’ and token type should be ‘Embed’. Here you can see the code for ‘tokenExpirationListener’. This is added as the generated tokens are valid only for an hour and it expires after that. So we need to generate another token by that time and update it. More info can be found \u003ca href=\"https://github.com/Microsoft/PowerBI-JavaScript/wiki/Refresh-token-using-JavaScript-SDK-example\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003ch3\u003eConclusion\u003c/h3\u003e\n\u003cp\u003eNow you’re done with your Angular app and its corresponding Web API, run it and verify the reports.\u003c/p\u003e\n"},"__N_SSG":true},"page":"/blogs/[id]","query":{"id":"embedding-power-bi-in-angular-part-1"},"buildId":"zh1h0rQ6CgnCoZ5HIrB9Z","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>